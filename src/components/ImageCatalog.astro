---
import Image from '~/components/common/Image.astro';

export interface Props {
  title: string;
  subtitle?: string;
  items: Array<{
    image: string;
    alt: string;
    title: string;
    description: string;
  }>;
}

const { title, subtitle, items = [] } = Astro.props;
---

<section class="mb-20">
  <div class="text-center mb-12">
    <h2 class="text-3xl md:text-4xl font-bold dark:text-white mb-4" data-aos="fade-up">
      {title}
    </h2>
    {subtitle && (
      <p class="text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto" data-aos="fade-up">
        {subtitle}
      </p>
    )}
  </div>

  <!-- Grid 3x2 -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {items.slice(0, 6).map((item, index) => (
      <div 
        class="group relative bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden cursor-pointer"
        data-aos="fade-up"
        data-aos-delay={(index * 100).toString()}
      >
        <!-- Contenedor de imagen con hover -->
        <div class="relative overflow-hidden aspect-square">
          <Image
            src={item.image}
            alt={item.alt}
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
            widths={[400, 600, 800]}
            sizes="(max-width: 768px) 400px, 600px"
          />
          
          <!-- Overlay azul-600 con transparencia SOLO en hover -->
          <div class="absolute inset-0 bg-blue-600 bg-opacity-0 group-hover:bg-opacity-70 transition-all duration-300 flex items-center justify-center">
            <!-- Texto que aparece SOLO en hover -->
            <div class="text-center transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 opacity-0 group-hover:opacity-100">
              <h3 class="text-xl font-semibold text-white mb-2">
                {item.title}
              </h3>
              <p class="text-white text-sm max-w-xs">
                {item.description}
              </p>
            </div>
          </div>
        </div>
        
        <!-- Nombre del producto (siempre visible) -->
        <div class="p-4 text-center bg-white dark:bg-gray-800">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
            {item.title}
          </h3>
        </div>
      </div>
    ))}
  </div>
</section>